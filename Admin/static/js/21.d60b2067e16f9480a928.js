webpackJsonp([21],{DhIk:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("Dd8w"),s=i.n(o),l=i("986c"),r=i("NYxO"),a=i("3pLw");var n={name:"MyCenter",components:{LoHeader:l.a},data:function(){return{showModifyPwdAlert:!1,oldPwd:"",newPwd1:"",newPwd2:"",FieldName:"",FieldValue:"",OtherAlertTitle:"昵称",OtherAlertHint:"请输入新的昵称",showModifyOtherAlert:!1}},computed:s()({},Object(r.b)({sysUserInfo:function(t){return t.sysUser.sysUserInfo}})),methods:{openModifyPwdAlert:function(){this.oldPwd="",this.newPwd1="",this.newPwd2="",this.showModifyPwdAlert=!0},doNickName:function(){this.FieldName="NickName",this.showModifyOtherAlert=!0,this.OtherAlertHint="请输入新的昵称",this.OtherAlertTitle="修改昵称"},doMobile:function(){this.FieldName="Mobile",this.showModifyOtherAlert=!0,this.OtherAlertHint="请输入新的手机",this.OtherAlertTitle="修改手机"},doEmail:function(){this.FieldName="Email",this.showModifyOtherAlert=!0,this.OtherAlertHint="请输入新的Email",this.OtherAlertTitle="修改Email"},doModifyOther:function(){var t,e=this;(t={FieldName:this.FieldName,FieldValue:this.FieldValue},Object(a.a)({url:"sys/modifysysuserinfo",method:"post",data:t})).then(function(t){t.obj;var i=t.code,o=t.msg;200==i?(e.$toast.info("修改成功."),e.showModifyOtherAlert=!1,"Email"==e.FieldName?e.sysUserInfo.Email=e.FieldValue:"Mobile"==e.FieldName?e.sysUserInfo.Mobile=e.FieldValue:"NickName"==e.FieldName&&(e.sysUserInfo.NickName=e.FieldValue),resolve()):e.$toast.error(o)}).catch(function(t){})},doModifyPwd:function(){var t,e=this;this.newPwd1==this.newPwd2?(t={OldPwd:this.oldPwd,NewPwd:this.newPwd1},Object(a.a)({url:"sys/modifypwd",method:"post",data:t})).then(function(t){t.obj;var i=t.code,o=t.msg;200==i?(e.$toast.info("修改成功."),e.showModifyPwdAlert=!1,resolve()):e.$toast.error(o)}).catch(function(t){}):this.$toast.error("两次新密码不一致.")}}},d={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("LoHeader",{staticClass:"lo_header",attrs:{title:"个人中心"}}),t._v(" "),o("div",{staticClass:"lo_content_box"},[o("mu-container",{staticClass:"lo_content"},[o("mu-list",[o("mu-list-item",{attrs:{avatar:"",button:"",ripple:!1}},[o("mu-list-item-action",[o("mu-avatar",[t.sysUserInfo.PortraitUrl?o("img",{attrs:{src:t.sysUserInfo.PortraitUrl}}):o("img",{attrs:{src:i("7YEB")}})])],1),t._v(" "),o("mu-list-item-title",[t._v(" "+t._s(t.sysUserInfo.UserName))])],1),t._v(" "),o("mu-divider"),t._v(" "),o("mu-list-item",{attrs:{button:"",ripple:!0},on:{click:t.doNickName}},[o("mu-list-item-title",[t._v("昵称")]),t._v("\n      "+t._s(t.sysUserInfo.NickName)+"\n      "),o("mu-list-item-action",[o("mu-icon",{attrs:{size:"24",value:"check_circle"}})],1)],1),t._v(" "),o("mu-divider"),t._v(" "),o("mu-list-item",{attrs:{button:"",ripple:!0},on:{click:t.doMobile}},[o("mu-list-item-title",[t._v("手机")]),t._v("\n      "+t._s(t.sysUserInfo.Mobile)+"\n      "),o("mu-list-item-action",[o("mu-icon",{attrs:{size:"24",value:"check_circle"}})],1)],1),t._v(" "),o("mu-divider"),t._v(" "),o("mu-list-item",{attrs:{button:"",ripple:!0},on:{click:t.doEmail}},[o("mu-list-item-title",[t._v("Email")]),t._v("\n      "+t._s(t.sysUserInfo.Email)+"\n      "),o("mu-list-item-action",[o("mu-icon",{attrs:{size:"24",value:"check_circle"}})],1)],1),t._v(" "),o("mu-divider"),t._v(" "),o("mu-list-item",{attrs:{button:"",ripple:!0},on:{click:t.openModifyPwdAlert}},[o("mu-list-item-title",[t._v("密码")]),t._v("\n      ******\n      "),o("mu-list-item-action",[o("mu-icon",{attrs:{size:"24",value:"check_circle"}})],1)],1),t._v(" "),o("mu-divider")],1)],1),t._v(" "),o("mu-dialog",{attrs:{title:"修改密码",width:"600","max-width":"80%","esc-press-close":!1,"overlay-close":!1,open:t.showModifyPwdAlert},on:{"update:open":function(e){t.showModifyPwdAlert=e}}},[o("mu-text-field",{attrs:{type:"password",placeholder:"原密码"},model:{value:t.oldPwd,callback:function(e){t.oldPwd=e},expression:"oldPwd"}}),o("br"),t._v(" "),o("mu-text-field",{attrs:{type:"password",placeholder:"新密码"},model:{value:t.newPwd1,callback:function(e){t.newPwd1=e},expression:"newPwd1"}}),o("br"),t._v(" "),o("mu-text-field",{attrs:{type:"password",placeholder:"再次确认新密码"},model:{value:t.newPwd2,callback:function(e){t.newPwd2=e},expression:"newPwd2"}}),o("br"),t._v(" "),o("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:function(e){t.showModifyPwdAlert=!1}},slot:"actions"},[t._v("取消")]),t._v(" "),o("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:t.doModifyPwd},slot:"actions"},[t._v("确定")])],1),t._v(" "),o("mu-dialog",{attrs:{title:t.OtherAlertTitle,width:"600","max-width":"80%","esc-press-close":!1,"overlay-close":!1,open:t.showModifyOtherAlert},on:{"update:open":function(e){t.showModifyOtherAlert=e}}},[t._v("\n      "+t._s(t.OtherAlertHint)+"\n      "),o("mu-text-field",{attrs:{type:"text",placeholder:""},model:{value:t.FieldValue,callback:function(e){t.FieldValue=e},expression:"FieldValue"}}),o("br"),t._v(" "),o("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:function(e){t.showModifyOtherAlert=!1}},slot:"actions"},[t._v("取消")]),t._v(" "),o("mu-button",{attrs:{slot:"actions",flat:"",color:"primary"},on:{click:t.doModifyOther},slot:"actions"},[t._v("确定")])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")(n,d,!1,function(t){i("LANa")},"data-v-3c07b0c6",null);e.default=c.exports},LANa:function(t,e){}});
//# sourceMappingURL=21.d60b2067e16f9480a928.js.map