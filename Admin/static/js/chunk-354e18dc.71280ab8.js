(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-354e18dc"],{7159:function(t,e,i){t.exports=i.p+"static/img/img.146655c9.jpg"},"97c0":function(t,e,i){},"9b7c":function(t,e,i){"use strict";var s=i("97c0"),a=i.n(s);a.a},a1b3:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-row",{attrs:{gutter:16}},[s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"mgb20",staticStyle:{height:"252px"},attrs:{shadow:"hover"}},[s("div",{staticClass:"user-info"},[s("img",{staticClass:"user-avator",attrs:{src:i("7159"),alt:""}}),s("div",{staticClass:"user-info-cont"},[s("div",{staticClass:"user-info-name"},[t._v(t._s(t.name))]),s("div",[t._v(t._s(t.role))])])]),s("div",{staticClass:"user-info-list"},[t._v("\n                    上次登录时间：\n                    "),s("span",[t._v("2019-11-01")])]),s("div",{staticClass:"user-info-list"},[t._v("\n                    上次登录地点：\n                    "),s("span",[t._v("东莞")])])])],1),s("el-col",{attrs:{span:12}},[s("el-card",{staticClass:"mgb20",staticStyle:{height:"252px"},attrs:{shadow:"hover"}},[s("el-button",{attrs:{type:"primary"},on:{click:t.Get7DayBetYieldChart}},[t._v("刷新")]),s("schart",{staticClass:"wrapper",attrs:{canvasId:"myCanvas",options:t.options}})],1)],1)],1)],1)},a=[],n=(i("7f7f"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("canvas",{attrs:{id:t.canvasId}})])}),r=[],o=(i("8e6e"),i("ac6a"),i("456d"),i("ade3")),l=i("b367"),h=i.n(l);function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){Object(o["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var f={props:{canvasId:{type:String,default:"",required:!0},options:{type:Object,required:!0}},mounted:function(){this.renderChart()},methods:{renderChart:function(){if(this.checkOptions()){var t=c({},this.options);new h.a(this.canvasId,t)}},checkOptions:function(){var t=this.options;return!(!t.datasets||!t.datasets.length)&&!(!t.labels||!t.labels.length)}},watch:{options:{handler:function(t,e){this.renderChart()},deep:!0}}},u=f,g=i("2877"),v=Object(g["a"])(u,n,r,!1,null,null,null),p=v.exports,b=i("751a"),y=i("f42c"),m={name:"home",data:function(){return{mixins:[y["a"]],name:localStorage.getItem("ms_username"),options:{type:"bar",title:{text:"最近一周各品类销售图"},labels:["周一","周二","周三","周四","周五"],datasets:[{label:"家电",data:[234,278,270,190,230]},{label:"百货",data:[164,178,190,135,160]},{label:"食品",data:[144,198,150,235,120]}]}}},components:{Schart:p},computed:{role:function(){return"admin"===this.name?"超级管理员":"普通用户"}},mounted:function(){},created:function(){this.Get7DayBetYieldChart()},destroyed:function(){},methods:{Get7DayBetYieldChart:function(){var t=this;Object(b["a"])({url:"api/get7daybetyieldchart",method:"post",data:{}}).then((function(e){200==e.code&&(console.log(e.obj),t.options=e.obj)}))}}},x=m,w=(i("9b7c"),Object(g["a"])(x,s,a,!1,null,"d81598aa",null));e["default"]=w.exports},b367:function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){"use strict";function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var i=window.devicePixelRatio||1,s=10*i,a=s/2;return function(){function n(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.canvas=function(t){var e=document.getElementById(t),s=e.parentNode.clientWidth,a=e.parentNode.clientHeight;return e.style.width=s+"px",e.style.height=a+"px",e.width=s*i,e.height=a*i,e}(t),this.ctx=this.canvas.getContext("2d"),this.type="bar",this.showValue=!0,this.showGrid=!0,this.topPadding=60*i,this.leftPadding=50*i,this.rightPadding=10*i,this.bottomPadding=50*i,this.yEqual=5,this.yLength=0,this.xLength=0,this.ySpace=0,this.xRorate=0,this.yRorate=0,this.bgColor="#fff",this.axisColor="#666",this.gridColor="#eee",this.title={text:"",color:"#666",position:"top",font:"bold "+18*i+"px Arial",top:s,bottom:a},this.legend={display:!0,position:"top",color:"#666",font:14*i+"px Arial",top:45*i,bottom:15*i,textWidth:0},this.radius=100*i,this.innerRadius=60*i,this.colorList=["#4A90E2","#F5A623","#ff5858","#5e64ff","#2AC766","#743ee2","#b554ff","#199475"],this.init(e)}return function(e,i,s){i&&t(e.prototype,i),s&&t(e,s)}(n,[{key:"init",value:function(t){if(t.title=Object.assign({},this.title,t.title),t.legend=Object.assign({},this.legend,t.legend),Object.assign(this,t),!t.labels||!t.labels.length)throw new Error("缺少主要参数labels");if(!t.datasets||!t.datasets.length)throw new Error("缺少主要参数datasets");this.drawBackground(),"bar"===this.type||"line"===this.type?this.renderBarChart():this.renderPieChart(),this.drawLegend()}},{key:"renderBarChart",value:function(){this.yLength=Math.floor((this.canvas.height-this.topPadding-this.bottomPadding-s)/this.yEqual),this.xLength=Math.floor((this.canvas.width-this.leftPadding-this.rightPadding-s)/this.labels.length),this.ySpace=function(t,i){var s=t.map((function(t){return t.data.reduce((function(t,e){return e<t?t:e}))})),a=Math.ceil(Math.max.apply(Math,e(s))/i),n=a.toString().length-1;return n=2<n?2:n,Math.ceil(a/Math.pow(10,n))*Math.pow(10,n)}(this.datasets,this.yEqual),this.drawXAxis(),this.drawYAxis(),this.drawBarContent()}},{key:"drawBarContent",value:function(){var t=this.ctx,e=this.datasets.length;t.beginPath();for(var n=0;n<e;n++){t.font=this.legend.font,this.legend.textWidth+=Math.ceil(t.measureText(this.datasets[n].label).width),t.fillStyle=t.strokeStyle=this.datasets[n].fillColor||this.colorList[n];for(var r=this.datasets[n].data,o=0;o<r.length;o++)if(!(o>this.labels.length-1)){var l=this.xLength/(e+1),h=this.yLength/this.ySpace,d=this.leftPadding+this.xLength*o+l*(n+.5),c=d+l,f=this.canvas.height-this.bottomPadding,u=f-r[o]*h;if("bar"===this.type)t.fillRect(d,u,c-d,f-u),this.drawValue(r[o],d+l/2,u-a);else if("line"===this.type){var g=this.leftPadding+this.xLength*(o+.5);t.beginPath(),t.arc(g,u,3*i,0,2*Math.PI,!0),t.fill(),0!==o&&(t.beginPath(),t.strokeStyle=this.datasets[n].fillColor||this.colorList[n],t.lineWidth=2*i,t.moveTo(g-this.xLength,f-r[o-1]*h),t.lineTo(g,u),t.stroke(),t.lineWidth=1*i),this.drawValue(r[o],g,u-s)}}}t.stroke()}},{key:"renderPieChart",value:function(){for(var t=this.ctx,e=this.labels.length,i=this.datasets[0],s=i.data,a=s.reduce((function(t,e){return t+e})),n=-Math.PI/2,r=this.canvas.width/2,o=this.canvas.height/2,l=0;l<e;l++){t.font=this.legend.font,this.legend.textWidth+=Math.ceil(t.measureText(this.labels[l]).width),t.beginPath(),t.strokeStyle=t.fillStyle=i.colorList&&i.colorList[l]||this.colorList[l],t.moveTo(r,o);var h=n,d=n+=s[l]/a*2*Math.PI;t.arc(r,o,this.radius,h,d),t.closePath(),t.fill();var c=(h+d)/2;this.drawPieValue(s[l],c)}"ring"===this.type&&(t.beginPath(),t.fillStyle=this.bgColor,t.arc(r,o,this.innerRadius,0,2*Math.PI),t.closePath(),t.fill())}},{key:"drawValue",value:function(t,e,s){var a=this.ctx;this.showValue&&(a.textBaseline="middle",a.font=12*i+"px Arial",a.textAlign="center",a.fillText(t,e,s))}},{key:"drawPieValue",value:function(t,e){var i=this.ctx;if(this.showValue){var a=this.canvas.width/2,n=this.canvas.height/2,r=Math.ceil(Math.abs(this.radius*Math.cos(e))),o=Math.floor(Math.abs(this.radius*Math.sin(e)));i.textBaseline="middle",this.showValue&&(e<=0?(i.textAlign="left",i.moveTo(a+r,n-o),i.lineTo(a+r+s,n-o-s),i.moveTo(a+r+s,n-o-s),i.lineTo(a+r+3*s,n-o-s),i.stroke(),i.fillText(t,a+r+3.5*s,n-o-s)):0<e&&e<=Math.PI/2?(i.textAlign="left",i.moveTo(a+r,n+o),i.lineTo(a+r+s,n+o+s),i.moveTo(a+r+s,n+o+s),i.lineTo(a+r+3*s,n+o+s),i.stroke(),i.fillText(t,a+r+3.5*s,n+o+s)):e>Math.PI/2&&e<Math.PI?(i.textAlign="right",i.moveTo(a-r,n+o),i.lineTo(a-r-s,n+o+s),i.moveTo(a-r-s,n+o+s),i.lineTo(a-r-3*s,n+o+s),i.stroke(),i.fillText(t,a-r-3.5*s,n+o+s)):(i.textAlign="right",i.moveTo(a-r,n-o),i.lineTo(a-r-s,n-o-s),i.moveTo(a-r-s,n-o-s),i.lineTo(a-r-3*s,n-o-s),i.stroke(),i.fillText(t,a-r-3.5*s,n-o-s)))}}},{key:"drawBackground",value:function(){this.ctx.fillStyle=this.bgColor,this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.drawTitle()}},{key:"drawTitle",value:function(){var t=this.title;if(t.text){var e=this.ctx;e.beginPath(),e.font=t.font,e.textAlign="center",e.fillStyle=t.color,"top"===t.position?(e.textBaseline="top",e.fillText(t.text,this.canvas.width/2,t.top)):(e.textBaseline="bottom",e.fillText(t.text,this.canvas.width/2,this.canvas.height-t.bottom))}}},{key:"drawXAxis",value:function(){var t=this.ctx,e=this.canvas.height-this.bottomPadding+.5;t.beginPath(),t.strokeStyle=this.axisColor,t.moveTo(this.leftPadding,e),t.lineTo(this.canvas.width-this.rightPadding,e),t.stroke(),this.drawXPoint()}},{key:"drawXPoint",value:function(){var t=this.ctx;t.beginPath(),t.font=12*i+"px Microsoft YaHei",t.textAlign=this.xRorate?"right":"center",t.textBaseline="top",t.fillStyle=this.axisColor;for(var e=0;e<this.labels.length;e++){var n=this.labels[e],r=this.leftPadding+this.xLength*(e+1)+.5,o=this.canvas.height-this.bottomPadding;this.showGrid?(t.strokeStyle=this.gridColor,t.moveTo(r,o),t.lineTo(r,this.topPadding+s)):(t.moveTo(r,o),t.lineTo(r,o-a)),t.stroke(),t.save(),t.translate(r-this.xLength/2,o+a),t.rotate(-this.xRorate*Math.PI/180),t.fillText(n,0,0),t.restore()}}},{key:"drawYAxis",value:function(){var t=this.ctx;t.beginPath(),t.strokeStyle=this.axisColor,t.moveTo(this.leftPadding-.5,this.canvas.height-this.bottomPadding+.5),t.lineTo(this.leftPadding-.5,this.topPadding+.5),t.stroke(),this.drawYPoint()}},{key:"drawYPoint",value:function(){var t=this.ctx;t.font=12*i+"px Microsoft YaHei",t.textAlign="right",t.textBaseline="middle",t.beginPath();for(var e=0;e<this.yEqual;e++){var n=this.leftPadding,r=this.canvas.height-this.bottomPadding-this.yLength*(e+1)+.5;this.showGrid?(t.strokeStyle=this.gridColor,t.moveTo(n,r),t.lineTo(this.canvas.width-this.rightPadding-s,r)):(t.strokeStyle=this.axisColor,t.moveTo(n-a,r),t.lineTo(n,r)),t.stroke(),t.save(),t.fillStyle=this.axisColor,t.translate(n-s,r),t.rotate(-this.yRorate*Math.PI/180),t.fillText(this.ySpace*(e+1),0,0),t.restore()}}},{key:"drawLegend",value:function(){var t=this.legend;if(t.display){var e=this.ctx,i="pie"===this.type||"ring"===this.type;e.beginPath(),e.font=t.font,e.textAlign="left",e.textBaseline="middle";for(var n=i?this.labels.length:this.datasets.length,r=(this.canvas.width-(this.legend.textWidth+(5*n-2)*s))/2,o=0,l=0;l<n;l++){var h=i?this.datasets[0]:this.datasets[l],d=(i?this.labels[l]:h.label)||"";e.fillStyle=h.colorList&&h.colorList[l]||h.fillColor||this.colorList[l],"top"===t.position?(this.drawLegendIcon(r+5*s*l+o,t.top-a,2*s,s),e.fillStyle=t.color,e.fillText(d,r+(5*l+3)*s+o,t.top)):"bottom"===t.position?(this.drawLegendIcon(r+5*s*l+o,this.canvas.height-t.bottom-a,2*s,s),e.fillStyle=t.color,e.fillText(d,r+(5*l+3)*s+o,this.canvas.height-t.bottom)):(e.fillRect(s,t.top+2*s*l,2*s,s),e.fillStyle=t.color,e.fillText(d,4*s,t.top+2*s*l+.5*s)),o+=Math.ceil(e.measureText(d).width)}}}},{key:"drawLegendIcon",value:function(t,e,n,r){var o=this.ctx;"line"===this.type?(o.beginPath(),o.strokeStyle=o.fillStyle,o.lineWidth=2*i,o.moveTo(t,e+a),o.lineTo(t+2*s,e+a),o.stroke(),o.lineWidth=1*i,o.arc(t+s,e+a,3*i,0,2*Math.PI,!0),o.fill()):o.fillRect(t,e,n,r)}}]),n}()}))},f42c:function(t,e,i){"use strict";i("4917"),i("4f7f"),i("5df3"),i("1c4c"),i("28a5"),i("ac6a"),i("456d"),i("f576"),i("6b54"),i("3b2b"),i("a481");function s(t,e,i){var s,a,n,r,o,l=function l(){var h=+new Date-r;h<e&&h>0?s=setTimeout(l,e-h):(s=null,i||(o=t.apply(n,a),s||(n=a=null)))};return function(){for(var a=arguments.length,h=new Array(a),d=0;d<a;d++)h[d]=arguments[d];n=this,r=+new Date;var c=i&&!s;return s||(s=setTimeout(l,e)),c&&(o=t.apply(n,h),n=h=null),o}}e["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){this.initListener()},activated:function(){this.$_resizeHandler||this.initListener(),this.resize()},beforeDestroy:function(){this.destroyListener()},deactivated:function(){this.destroyListener()},methods:{$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},initListener:function(){var t=this;this.$_resizeHandler=s((function(){t.resize()}),100),window.addEventListener("resize",this.$_resizeHandler),this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},destroyListener:function(){window.removeEventListener("resize",this.$_resizeHandler),this.$_resizeHandler=null,this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)},resize:function(){var t=this.chart;t&&t.resize()}}}}}]);
//# sourceMappingURL=chunk-354e18dc.71280ab8.js.map